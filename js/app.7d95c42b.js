(function(e){function t(t){for(var l,c,a=t[0],r=t[1],o=t[2],d=0,b=[];d<a.length;d++)c=a[d],s[c]&&b.push(s[c][0]),s[c]=0;for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l]);h&&h(t);while(b.length)b.shift()();return n.push.apply(n,o||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],l=!0,a=1;a<i.length;a++){var r=i[a];0!==s[r]&&(l=!1)}l&&(n.splice(t--,1),e=c(c.s=i[0]))}return e}var l={},s={app:0},n=[];function c(t){if(l[t])return l[t].exports;var i=l[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=e,c.c=l,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)c.d(i,l,function(t){return e[t]}.bind(null,l));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=t,a=a.slice();for(var o=0;o<a.length;o++)t(a[o]);var h=r;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0663":function(e,t,i){"use strict";var l=i("39e5"),s=i.n(l);s.a},"39e5":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);var l=i("2b0e"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("svg",{attrs:{id:"app--screen"}},[i("app-bricks",{attrs:{ball:e.ball,bricks:e.bricks,runFlg:e.gameRunFlg},on:{collisioned:e.collisionedBallAndBrick}}),i("app-ball",{attrs:{ball:e.ball}}),i("app-paddle",{attrs:{paddle:e.paddle}}),i("app-collision-ball-and-paddle",{attrs:{object1:e.ball,object2:e.paddle,runFlg:e.gameRunFlg},on:{collisioned:e.collisionedBallAndPaddle}}),i("app-collision-ball-and-screen",{attrs:{object1:e.ball,screen:e.screen,runFlg:e.gameRunFlg},on:{collisioned:e.collisionedBallAndScreen}})],1),i("input",{directives:[{name:"model",rawName:"v-model",value:e.paddle.x,expression:"paddle.x"}],staticClass:"paddle--slider",attrs:{type:"range",min:"10",max:"800"},domProps:{value:e.paddle.x},on:{__r:function(t){return e.$set(e.paddle,"x",t.target.value)}}}),i("button",{directives:[{name:"show",rawName:"v-show",value:!e.gameRunFlg&&!e.gameEndFlg,expression:"!gameRunFlg && !gameEndFlg"}],staticClass:"button--start",attrs:{type:"button"},on:{click:e.start}},[e._v("Start")]),i("button",{directives:[{name:"show",rawName:"v-show",value:e.gameEndFlg,expression:"gameEndFlg"}],staticClass:"button--retry",attrs:{type:"button"},on:{click:e.restart}},[e._v("Restart")])])},n=[],c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("svg",e._l(e.bricks,function(t){return i("app-brick",{key:t.id,attrs:{ball:e.ball,runFlg:e.runFlg,brick:t},on:{collisioned:e.collisioned}})}),1)},a=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("svg",[i("svg",{directives:[{name:"show",rawName:"v-show",value:e.brick.visible,expression:"brick.visible"}]},[i("rect",{staticClass:"brick",attrs:{x:e.brick.x,y:e.brick.y,width:e.brick.width,height:e.brick.height}})]),i("app-collision-ball-and-brick",{attrs:{object1:e.ball,object2:e.brick,runFlg:e.runFlg},on:{collisioned:e.collisionedBallAndBrick}})],1)},o=[],h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},d=[],b={props:{object1:Object,object2:Object,runFlg:Boolean},computed:{obj1XY:function(){return`${this.object1.x}|${this.object1.y}`}},watch:{obj1XY:function(){if(!this.runFlg)return;if(!this.object2.visible)return;this.object1.setCenter(),this.object2.setCenter();let e=Math.abs(this.object1.cy-this.object2.cy),t=this.object1.height/2+this.object2.height/2,i=Math.abs(this.object1.cx-this.object2.cx),l=this.object1.width/2+this.object2.width/2,s=i<=l,n=e<=t;if(s&&n){let s={top:this.object1.cy<this.object2.cy&&e===t,bottom:this.object1.cy>this.object2.cy&&e===t,left:this.object1.cx<this.object2.cx&&i===l,right:this.object1.cx>this.object2.cx&&i===l};this.$emit("collisioned",s)}}}},u=b,p=i("2877"),f=Object(p["a"])(u,h,d,!1,null,null,null),g=f.exports,m={props:{ball:Object,brick:Object,runFlg:Boolean},components:{AppCollisionBallAndBrick:g},methods:{collisionedBallAndBrick:function(e){this.$emit("collisioned",this.brick.id,e)}}},x=m,v=(i("0663"),Object(p["a"])(x,r,o,!1,null,null,null)),j=v.exports,y={props:{ball:Object,bricks:Array,runFlg:Boolean},components:{AppBrick:j},methods:{collisioned:function(e,t){this.$emit("collisioned",e,t)}}},k=y,w=Object(p["a"])(k,c,a,!1,null,null,null),F=w.exports,B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("svg",[i("circle",{directives:[{name:"show",rawName:"v-show",value:e.ball.visible,expression:"ball.visible"}],attrs:{cx:e.ball.x,cy:e.ball.y,r:e.ball.radius}})])},O=[],_={props:{ball:Object}},X=_,$=Object(p["a"])(X,B,O,!1,null,null,null),A=$.exports,E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("svg",[i("rect",{staticClass:"paddle",attrs:{x:e.paddle.x,y:e.paddle.y,width:e.paddle.width,height:e.paddle.height}})])},R=[],Y={props:{paddle:Object}},C=Y,S=(i("a3f8"),Object(p["a"])(C,E,R,!1,null,null,null)),P=S.exports,M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},I=[],N={props:{object1:Object,screen:Object,runFlg:Boolean},computed:{obj1XY:function(){return`${this.object1.x}|${this.object1.y}`}},watch:{obj1XY:function(){if(!this.runFlg)return;this.object1.setCenter();let e=Math.abs(this.screen.cy-this.object1.cy),t=this.screen.cy-this.object1.height,i=Math.abs(this.screen.cx-this.object1.cx),l=this.screen.cx-this.object1.width,s=i>l,n=e>t;if(s&&this.$emit("collisioned","X"),n){let e=this.screen.cy-this.object1.cy>0?"":"-";this.$emit("collisioned",e+"Y")}}}},q=N,T=Object(p["a"])(q,M,I,!1,null,null,null),J=T.exports,H={data:function(){return{gameRunFlg:!1,gameEndFlg:!1,gameReq:null,ballSpeedX:6,colBrick:7,rowBrick:10,screen:{cx:0,cy:0,width:0,height:0,setScreenParam:function(){let e=document.getElementById("app--screen"),t=e.clientWidth,i=e.clientHeight;this.cx=Math.floor(t/2),this.cy=Math.floor(i/2),this.width=t,this.height=i}},bricks:[],ball:{visible:!0,x:500,y:580,cx:0,cy:0,radius:20,width:20,height:20,speedX:0,speedY:5,setCenter:function(){this.cx=this.x,this.cy=this.y}},paddle:{visible:!0,x:450,y:600,cx:0,cy:0,width:100,height:15,speedX:3,setCenter:function(){this.cx=parseInt(this.x)+this.width/2,this.cy=parseInt(this.y)+this.height/2}}}},watch:{"paddle.x"(){let e=this.$watch("paddle.x",function(){});if(this.gameRunFlg&&e(),!this.gameRunFlg){let e=parseInt(this.paddle.x);this.ball.x=e+50}}},mounted:function(){this.screen.setScreenParam(),this.createBricks()},components:{appBricks:F,appBall:A,appPaddle:P,appCollisionBallAndPaddle:g,appCollisionBallAndScreen:J},methods:{start:function(){let e=this;e.gameRunFlg||(e.gameRunFlg=!0,function t(){e.ball.y-=e.ball.speedY,e.ball.x-=e.ball.speedX,e.gameReq=requestAnimationFrame(t)}())},restart:function(){this.createBricks(),this.ball.visible=!0,this.ball.x=500,this.ball.y=580,this.paddle.x=450,this.paddle.y=600,this.gameEndFlg=!1},createBricks:function(){this.bricks=[];let e=0;for(let t=0;t<this.colBrick;t++)for(let i=0;i<this.rowBrick;i++){let l={id:e,visible:!0,x:80+110*t,y:100+20*i,cx:0,cy:0,width:100,height:15,setCenter:function(){this.cx=parseInt(this.x)+this.width/2,this.cy=parseInt(this.y)+this.height/2}};this.bricks.push(l),e++}},collisionedBallAndScreen:function(e){switch(e){case"X":this.ball.speedX=-this.ball.speedX;break;case"Y":this.ball.speedY=-this.ball.speedY;break;case"-Y":window.cancelAnimationFrame(this.gameReq),this.gameRunFlg=!1,this.gameEndFlg=!0,this.ball.visible=!1;break;default:break}},collisionedBallAndPaddle:function(e){e.left||e.right||e.bottom||(this.ball.cx>this.paddle.cx&&(this.ball.speedX=-this.ballSpeedX),this.ball.cx===this.paddle.cx&&(this.ball.speedX=0),this.ball.cx<this.paddle.cx&&(this.ball.speedX=this.ballSpeedX),this.ball.speedY=-this.ball.speedY)},collisionedBallAndBrick:function(e,t){console.log(t),(t.top||t.bottom)&&(this.ball.speedY=-this.ball.speedY),(t.left||t.right)&&(this.ball.speedX=-this.ball.speedX),this.bricks[e].visible=!1}}},W=H,z=(i("5c0b"),Object(p["a"])(W,s,n,!1,null,null,null)),D=z.exports;l["a"].config.productionTip=!1,new l["a"]({render:function(e){return e(D)}}).$mount("#app")},"5c0b":function(e,t,i){"use strict";var l=i("5e27"),s=i.n(l);s.a},"5e27":function(e,t,i){},a3f8:function(e,t,i){"use strict";var l=i("e7c9"),s=i.n(l);s.a},e7c9:function(e,t,i){}});
//# sourceMappingURL=app.7d95c42b.js.map